<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, shrink-to-fit=no, viewport-fit=cover">
  <meta name="description" content="">
  <title>docWiki</title>
  <!-- Themes (light + dark) -->
  <link rel="stylesheet" media="(prefers-color-scheme: dark)" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple-dark.css">
  <link rel="stylesheet" media="(prefers-color-scheme: light)" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css">

  <style>
    .sidebar {
      color: var(--theme-color, #42b983);
    }
    
    /* 侧边栏紧凑化样式 */
    .sidebar-nav {
      padding: 0 !important;
    }
    
    .sidebar-nav ul {
      margin: 0 !important;
      padding: 0 !important;
    }
    
    .sidebar-nav li {
      margin: 0 !important;
      padding: 2px 0 !important;
      line-height: 1.2 !important;
    }
    
    .sidebar-nav li p {
      margin: 4px 0 2px 8px !important;
      padding: 0 !important;
      font-weight: bold;
      font-size: 14px;
    }
    
    .sidebar-nav li a {
      padding: 2px 0 2px 16px !important;
      margin: 0 !important;
      display: block;
      font-size: 13px;
      line-height: 1.3;
    }
    
    .sidebar-nav .app-sub-sidebar {
      padding-left: 8px !important;
    }
    
    .sidebar-nav .app-sub-sidebar li a {
      padding-left: 24px !important;
      font-size: 12px;
    }
    
    .sidebar-nav .section-link {
      padding-left: 32px !important;
    }
    
    /* Mermaid 暗色主题优化 */
    @media (prefers-color-scheme: dark) {
      .mermaid {
        background-color: transparent !important;
      }
      
      .mermaid svg {
        background-color: transparent !important;
      }
      
      .mermaid .node rect,
      .mermaid .node circle,
      .mermaid .node ellipse,
      .mermaid .node polygon {
        stroke: #ffffff !important;
        stroke-width: 2px !important;
      }
      
      .mermaid .edgePath path {
        stroke: #ffffff !important;
        stroke-width: 2px !important;
      }
      
      .mermaid .edgeLabel {
        background-color: #1e1e1e !important;
        color: #ffffff !important;
      }
      
      .mermaid .cluster rect {
        stroke: #bb86fc !important;
        stroke-width: 2px !important;
      }
    }
  </style>
</head>
<body>
  <div id="app">Loading...</div>
  <script>
    window.$docsify = {
      name: 'docWiki',
      basePath: '/docs/',
      loadSidebar: true,
      alias: { '/.*/_sidebar.md': '/_sidebar.md' },
      subMaxLevel: 2,
      auto2top: true,
      search: { 
        noData: 'No results found', 
        paths: 'auto', 
        placeholder: 'search...' 
      },
      mermaidConfig: {
        querySelector: ".mermaid"
      }
    };
  </script>

<!-- Required -->
  <script src="https://cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/js/docsify-themeable.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify@4/lib/plugins/search.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify@4/lib/plugins/zoom-image.min.js"></script>
<!-- Mermaid support -->
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    
    // 检测当前主题
    const isDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    // 根据主题配置Mermaid
    const mermaidConfig = {
      startOnLoad: true,
      theme: isDarkMode ? 'dark' : 'default',
      themeVariables: isDarkMode ? {
        primaryColor: '#bb86fc',
        primaryTextColor: '#ffffff',
        primaryBorderColor: '#ffffff',
        lineColor: '#ffffff',
        secondaryColor: '#03dac6',
        tertiaryColor: '#121212',
        background: '#1e1e1e',
        mainBkg: '#2d2d2d',
        secondBkg: '#3d3d3d',
        tertiaryBkg: '#4d4d4d'
      } : {
        primaryColor: '#0366d6',
        primaryTextColor: '#000000',
        primaryBorderColor: '#0366d6',
        lineColor: '#333333',
        secondaryColor: '#f6f8fa',
        tertiaryColor: '#ffffff'
      }
    };
    
    mermaid.initialize(mermaidConfig);
    window.mermaid = mermaid;
    
    // 监听主题变化并重新初始化
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
      const newConfig = {
        startOnLoad: true,
        theme: e.matches ? 'dark' : 'default',
        themeVariables: e.matches ? {
          primaryColor: '#bb86fc',
          primaryTextColor: '#ffffff',
          primaryBorderColor: '#ffffff',
          lineColor: '#ffffff',
          secondaryColor: '#03dac6',
          tertiaryColor: '#121212',
          background: '#1e1e1e',
          mainBkg: '#2d2d2d',
          secondBkg: '#3d3d3d',
          tertiaryBkg: '#4d4d4d'
        } : {
          primaryColor: '#0366d6',
          primaryTextColor: '#000000',
          primaryBorderColor: '#0366d6',
          lineColor: '#333333',
          secondaryColor: '#f6f8fa',
          tertiaryColor: '#ffffff'
        }
      };
      
      mermaid.initialize(newConfig);
      // 重新渲染所有mermaid图表
      document.querySelectorAll('.mermaid').forEach(element => {
        element.removeAttribute('data-processed');
      });
      mermaid.init();
    });
  </script>
  <script src="//unpkg.com/docsify-mermaid@2.0.1/dist/docsify-mermaid.js"></script>
</body>
</html>